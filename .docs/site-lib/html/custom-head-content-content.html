<style>
.tree-header > .collapse-tree-button {
    display: none !important;
}
pre[class*=language-]:before {
    font-size: 0rem !important;
}
a.tag {
    font-size: .8rem !important;
    font-style: normal !important;
}
.external-link, .internal-link {
    background-size: 1px 1px;
}
.internal-link, a {
    position: static !important;
}
.tree-item-self {
    position: relative !important;
}
</style>

<script>
  // custom notice
  class Notice {
    static container;

    constructor(message, duration = 5000) {
      this.message = message;
      this.duration = duration;
      this.show();
    }// constructor

    show() {
      if (!Notice.container) {
        Notice.container = document.createElement("div");
        Notice.container.classList.add("notice-container");
        Notice.container.style.position = "fixed";
        Notice.container.style.top = "10px";
        Notice.container.style.right = "10px";
        document.body.appendChild(Notice.container);
      }

      this.notification = document.createElement("div");
      this.notification.classList.add("notice");
      this.notification.innerHTML = this.message;

      Object.assign(this.notification.style, {
        background: "#333",
        color: "white",
        padding: "10px 20px",
        margin: "5px",
        borderRadius: "5px",
        opacity: "0",
        transition: "opacity 0.5s, transform 0.5s",
        transform: "translateX(350px)",
        cursor: "pointer"
      });

      Notice.container.appendChild(this.notification);

      setTimeout(() => {
        this.notification.style.opacity = "1";
        this.notification.style.transform = "translateX(0)";
      }, 100);

      setTimeout(() => this.dismiss(), this.duration);
      this.notification.addEventListener("click", () => this.dismiss(), { once: true });
    }// show

    dismiss() {
      if (this.notification) {
        this.notification.style.opacity = "0";
        this.notification.style.transform = "translateX(350px)";
        setTimeout(() => this.notification.remove(), 500);
      }
    }// dismiss
  }// Notice
  
  async function addTextToClipboard(content) {
    try {
      await navigator.clipboard.writeText(content);
      new Notice("Copied to your clipboard");
    } catch (error) {
      console.error(error);
      new Notice("Could not copy to your clipboard");
    }
  }// addTextToClipboard*/

  document.addEventListener("click", function (event) {
    const copyCodeButton = event.target.closest(`.copy-code-button`);

    if (copyCodeButton) {
      // handle copy code button
      handleCopyCodeClick(copyCodeButton);
    }
  });
  
  function handleCopyCodeClick(copyCodeButton){
    const preElement = copyCodeButton.parentNode?.parentNode;
    if (!preElement)
      return;

    const code = preElement.querySelector("code");
    if (!code)
      return;
    
    const codeText = code.textContent || "";
    addTextToClipboard(codeText);
  }// handleCopyCodeClick
</script>
